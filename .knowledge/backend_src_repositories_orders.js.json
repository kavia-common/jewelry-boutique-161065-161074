{"is_source_file": true, "format": "JavaScript", "description": "This file defines order-related database operations such as creating an order, inserting order items, updating order status, listing user orders, and fetching order details with items. It acts as a repository or data access layer for order management in the backend.", "external_files": ["../db"], "external_methods": ["db.query"], "published": ["createOrder", "insertOrderItems", "setOrderStatus", "listOrdersByUser", "getOrderWithItems"], "classes": [], "methods": [{"name": "createOrder({ userId, totalCents, currency, paymentIntentId })", "description": "Creates a new order header record in the database and returns the new order's ID.", "scope": "", "scopeKind": ""}, {"name": "insertOrderItems(orderId, items)", "description": "Inserts multiple order item records in bulk for a given order.", "scope": "", "scopeKind": ""}, {"name": "setOrderStatus(orderId, status)", "description": "Updates the status of an existing order.", "scope": "", "scopeKind": ""}, {"name": "listOrdersByUser(userId)", "description": "Retrieves all orders associated with a specific user, ordered by most recent.", "scope": "", "scopeKind": ""}, {"name": "getOrderWithItems(orderId, userId)", "description": "Fetches a specific order's header and its items for a user.", "scope": "", "scopeKind": ""}], "calls": ["db.query", "db.query", "db.query", "db.query", "db.query", "db.query"], "search-terms": ["orders database operations", "order repository", "orders.js", "order creation", "order retrieval", "order status update", "order items insertion", "getOrderWithItems"], "state": 2, "file_id": 24, "knowledge_revision": 53, "git_revision": "", "ctags": [{"_type": "tag", "name": "createOrder", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161074/backend/src/repositories/orders.js", "pattern": "/^  createOrder,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "createOrder", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161074/backend/src/repositories/orders.js", "pattern": "/^async function createOrder({ userId, totalCents, currency, paymentIntentId }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ userId, totalCents, currency, paymentIntentId })"}, {"_type": "tag", "name": "db", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161074/backend/src/repositories/orders.js", "pattern": "/^const db = require('..\\/db');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getOrderWithItems", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161074/backend/src/repositories/orders.js", "pattern": "/^async function getOrderWithItems(orderId, userId) {$/", "language": "JavaScript", "kind": "function", "signature": "(orderId, userId)"}, {"_type": "tag", "name": "insertOrderItems", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161074/backend/src/repositories/orders.js", "pattern": "/^async function insertOrderItems(orderId, items) {$/", "language": "JavaScript", "kind": "function", "signature": "(orderId, items)"}, {"_type": "tag", "name": "listOrdersByUser", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161074/backend/src/repositories/orders.js", "pattern": "/^async function listOrdersByUser(userId) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId)"}, {"_type": "tag", "name": "setOrderStatus", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161074/backend/src/repositories/orders.js", "pattern": "/^async function setOrderStatus(orderId, status) {$/", "language": "JavaScript", "kind": "function", "signature": "(orderId, status)"}], "hash": "38fdffc197e340b1b7d364efa0ceeec1", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/repositories/orders.js", "fields": [{"name": "createOrder,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"53": ""}]}