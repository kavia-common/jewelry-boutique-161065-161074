{"is_source_file": true, "format": "JavaScript", "description": "This JavaScript source file provides database connection and utility helper functions using mysql2/promise, including building a connection pool based on environment variables, executing queries, and pinging the database.", "external_files": ["mysql2/promise"], "external_methods": ["mysql.createPool", "mysql.createPool"], "published": ["getPool", "query", "ping"], "classes": [], "methods": [{"name": "buildPool()", "description": "Constructs and returns a mysql2 connection pool based on environment variables, preferring MYSQL_URL if available, otherwise using individual host, user, password, database, and port variables.", "scope": "", "scopeKind": ""}, {"name": "getPool()", "description": "Returns a singleton mysql2 promise-based pool, initializing it on the first call.", "scope": "", "scopeKind": ""}, {"name": "query(sql, params = [])", "description": "Executes a parameterized SQL query using the connection pool and returns the resulting rows.", "scope": "", "scopeKind": ""}, {"name": "ping()", "description": "Pings the database to confirm connectivity and returns true if successful.", "scope": "", "scopeKind": ""}], "calls": ["mysql.createPool", "mysql.createPool", "getPool", "getPool", "p.execute", "getPool", "p.query"], "search-terms": ["mysql2/promise", "connection pool", "environment variables", "database configuration", "query execution", "database ping"], "state": 2, "file_id": 13, "knowledge_revision": 27, "git_revision": "", "ctags": [{"_type": "tag", "name": "buildPool", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161074/backend/src/db/index.js", "pattern": "/^function buildPool() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getPool", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161074/backend/src/db/index.js", "pattern": "/^  getPool,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "getPool", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161074/backend/src/db/index.js", "pattern": "/^async function getPool() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "mysql", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161074/backend/src/db/index.js", "pattern": "/^const mysql = require('mysql2\\/promise');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "ping", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161074/backend/src/db/index.js", "pattern": "/^async function ping() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "pool", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161074/backend/src/db/index.js", "pattern": "/^let pool = null;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161074/backend/src/db/index.js", "pattern": "/^async function query(sql, params = []) {$/", "language": "JavaScript", "kind": "function", "signature": "(sql, params = [])"}], "hash": "43acd15e2fe6791d576b4510419288f3", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/db/index.js", "fields": [{"name": "getPool,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}, {"name": "let pool = null;", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"27": ""}]}