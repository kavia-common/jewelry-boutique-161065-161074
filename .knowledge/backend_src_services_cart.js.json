{"is_source_file": true, "format": "JavaScript", "description": "This file defines service functions for managing a shopping cart, including retrieving cart contents, adding or updating items, updating items by id, and removing items. It interacts with repository modules to handle data persistence and performs validation and computation related to the cart.", "external_files": ["../repositories/cart", "../repositories/products"], "external_methods": ["cartRepo.getCart", "cartRepo.upsertCartItem", "cartRepo.updateCartItemById", "cartRepo.removeCartItemById", "productsRepo.getById"], "published": ["getCart", "addOrUpdateItem", "updateItemById", "removeItemById"], "classes": [], "methods": [{"name": "getCart(userId)", "description": "Retrieves the user's cart items with total cost and currency.", "scope": "", "scopeKind": ""}, {"name": "addOrUpdateItem(userId, productId, quantity)", "description": "Adds a new item to the cart or updates an existing item after validating product existence and stock availability.", "scope": "", "scopeKind": ""}, {"name": "updateItemById(userId, cartItemId, quantity)", "description": "Updates the quantity of a cart item by its ID.", "scope": "", "scopeKind": ""}, {"name": "removeItemById(userId, cartItemId)", "description": "Removes an item from the cart by its ID.", "scope": "", "scopeKind": ""}], "calls": ["cartRepo.getCart", "productsRepo.getById", "cartRepo.upsertCartItem", "cartRepo.updateCartItemById", "cartRepo.removeCartItemById"], "search-terms": ["cartService", "cart operations", "cart repository", "product validation", "shopping cart management"], "state": 2, "file_id": 28, "knowledge_revision": 61, "git_revision": "", "ctags": [{"_type": "tag", "name": "addOrUpdateItem", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161074/backend/src/services/cart.js", "pattern": "/^async function addOrUpdateItem(userId, productId, quantity) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId, productId, quantity)"}, {"_type": "tag", "name": "cartRepo", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161074/backend/src/services/cart.js", "pattern": "/^const cartRepo = require('..\\/repositories\\/cart');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getCart", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161074/backend/src/services/cart.js", "pattern": "/^  getCart,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "getCart", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161074/backend/src/services/cart.js", "pattern": "/^async function getCart(userId) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId)"}, {"_type": "tag", "name": "productsRepo", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161074/backend/src/services/cart.js", "pattern": "/^const productsRepo = require('..\\/repositories\\/products');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "removeItemById", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161074/backend/src/services/cart.js", "pattern": "/^async function removeItemById(userId, cartItemId) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId, cartItemId)"}, {"_type": "tag", "name": "updateItemById", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161074/backend/src/services/cart.js", "pattern": "/^async function updateItemById(userId, cartItemId, quantity) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId, cartItemId, quantity)"}], "hash": "5d27c2c285fb30844825af3af11118e2", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/services/cart.js", "fields": [{"name": "getCart,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"61": ""}]}